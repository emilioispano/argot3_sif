Bootstrap: docker
From: nvcr.io/nvidia/tensorflow:24.01-tf2-py3
Stage: build


%setup
    mkdir -p /argot3/src/
    mkdir -p /argot3/input/go/
    mkdir -p /argot3/input/structure/
    mkdir -p /argot3/input/weights/


%files
    ../input/go/* /argot3/input/go/
    ../input/structure/* /argot3/input/structure/
    ../input/weights/* /argot3/input/weights/
    ../src/* /argot3/src/
    ./*.sh /argot3/


%post
    apt-get update -y && apt-get upgrade -y
    pip install torch torchvision torchaudio fair-esm requests tqdm owlready2 networkx biopython matplotlib numpy


%environment
    export LC_ALL=C


%runscript
    bash /argot3/launcher.sh "$@"


%test
    python3 --version
    python3 -c "import tensorflow, matplotlib"


%labels
    Author Ispano E.
    Version v3.0
    MedComp - Argot


%help
    Container with Argot3.0.
